/* Reset-ish */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
:root {
  color-scheme: light dark;
  --bg: #0b0c10;
  --bg-soft: #12141a;
  --surface: #171a22;
  --border: #2a2f3a;
  --accent: #4da3ff;
  --accent-strong: #1e88ff;
  --text: #e7ebf3;
  --muted: #a6adbb;
  --danger: #ff4d4d;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}
@media (prefers-color-scheme: light){
  :root{
    --bg: #f5f7fb; --bg-soft:#f0f3f9; --surface:#fff; --border:#e3e8f1; --text:#101321; --muted:#5a6272; --accent:#3b82f6; --accent-strong:#2563eb; --shadow:0 10px 24px rgba(16,19,33,.08);
  }
}

body { background: radial-gradient(1200px 600px at 70% -20%, rgba(77,163,255,.20), transparent), var(--bg);
  color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Helvetica, Arial, "Microsoft YaHei", "PingFang SC", sans-serif; }

.container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
.container.wide { width: 100%; max-width: none; padding-left: 24px; padding-right: 24px; }
.page { min-height: 100vh; display: grid; grid-template-rows: auto 1fr auto; }

/* Hero */
.hero { position: relative; padding: 18vh 0 8vh; background: linear-gradient(180deg, rgba(77,163,255,.12), transparent 60%); transition: .25s ease; }
.brand { font-size: 56px; font-weight: 900; letter-spacing: .8px; margin-bottom: 22px; text-align: center; }
.hero__desc { color: var(--muted); max-width: 820px; margin: 0 auto; text-align: center; }

/* Search */
.search { margin-top: 10px; }
.search__group { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; justify-content: center; }
.input-wrap { position: relative; }
.input-icon { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); opacity: .7; }
input[type="text"] { padding: 14px 14px 14px 40px; font-size: 18px; min-width: 420px; border-radius: 999px; border:1px solid var(--border); background: var(--surface); color: var(--text); box-shadow: var(--shadow); }
.input-compact { display: flex; align-items: center; gap: 6px; color: var(--muted); }
input[type="number"] { width: 80px; padding: 10px 12px; border-radius: 10px; border:1px solid var(--border); background: var(--surface); color: var(--text); }

.btn { border:1px solid var(--border); background: var(--surface); color: var(--text); padding: 10px 16px; border-radius: 10px; cursor: pointer; transition: .15s ease; box-shadow: var(--shadow); }
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }
.btn-primary { background: var(--accent); border-color: transparent; color: #fff; }
.btn-primary:hover { background: var(--accent-strong); }
.btn-ghost { background: transparent; border-color: var(--border); }
.btn.sm { padding: 6px 10px; border-radius: 8px; }

.status { margin-top: 8px; min-height: 18px; color: var(--muted); }
.status.err { color: var(--danger); }

/* Panel & Grid */
.panel { margin: 18px auto 0; background: var(--surface); border: 1px solid var(--border); border-radius: 14px; padding: 14px; box-shadow: var(--shadow); width: 100%; max-width: none; }
.panel__head { display: flex; justify-content: space-between; align-items: center; padding: 6px 6px 12px; border-bottom: 1px dashed var(--border); }
.panel__title { font-weight: 700; }
.panel__meta { color: var(--muted); }
.glyph { font-size: 28px; margin-left: 6px; }

.grid { margin-top: 16px; display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 18px; align-items: stretch; }
.card { border: 1px solid var(--border); border-radius: 12px; padding: 12px; background: var(--bg-soft); box-shadow: var(--shadow); transition: .15s ease; height: 100%; display: flex; flex-direction: column; }
.card:hover { transform: translateY(-2px); }
.card.query { outline: 2px solid var(--accent); box-shadow: 0 0 0 4px color-mix(in lab, var(--accent) 20%, transparent), var(--shadow); }
.badge { background: var(--accent); color: #fff; border-radius: 999px; font-size: 12px; padding: 2px 8px; }
.thumb { width: 120px; height: 120px; margin: 0 auto 10px; display: grid; place-items: center; border: 1px solid var(--border); background: #fff; border-radius: 6px; }
img { max-width: 110px; max-height: 110px; image-rendering: auto; }
.code-line { display: flex; justify-content: space-between; align-items: center; margin: 6px 0; }
.char { font-size: 20px; display: flex; gap: 8px; align-items: center; }
.muted { color: var(--muted); }
.muted.sm { font-size: 12px; }
.sep { margin: 0 6px; opacity: .5; }
.empty { padding: 24px; text-align: center; color: var(--muted); }
.loading { opacity: .7; }

/* Footer */
.footer { padding: 26px 0; }

/* After results: shrink header like Google */
body.has-results .hero { padding: 18px 0; }
body.has-results .brand { font-size: 22px; text-align: left; }
body.has-results .search__group { justify-content: flex-start; }
body.has-results .hero .container { display: grid; grid-template-columns: 180px 1fr; gap: 16px; align-items: center; }
body.has-results .brand { margin: 0; }
body.has-results .search { margin: 0; }
/* Results mode: make results area full-bleed and tile */
body.has-results main.container.wide { width: 100%; max-width: none; padding-left: clamp(20px, 6vw, 96px); padding-right: clamp(20px, 6vw, 96px); }
body.has-results .panel { background: transparent; border: 0; box-shadow: none; padding: 0; }
body.has-results .panel__head { padding: 6px 2px 10px; border-bottom: none; }
